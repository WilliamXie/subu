jQuery.validation=function(data){var _object;var _validations=[];var _comparisons=[];var _mexclusions=[];var _form=data.form;var _processFn=(data.error&&typeof data.error=="function")?data.error:function(valid,dom_field,message){if(!valid){alert(message)}};var _validationFn=null;var _auto=data.auto||false;var _events={submit:"submit",change:"change"};var _event=_events[data.event]||"submit";this.validate=_validate;this.compare=_compare;this.mexclude=_mexclude;this.validateForm=_validateForm;this.setProcessFn=_setProcessFn;this.setValidationFn=_setValidationFn;this.unbindSubmit=_unbindSubmit;function _is_string(value){return(!value.toString().match(/^[\s]+$/))?true:false}function _is_alpha(value){return(value.toString().match(/^[a-zA-Z]*$/))?true:false}function _is_alphanum(value){return(value.toString().match(/^[a-zA-Z0-9]*$/))?true:false}function _is_number(value){return(value.toString().match(/^[0-9]*$/))?true:false}function _is_name(value){return(value.toString().match(/^[a-zA-Z\s\-\.\']*$/)&&!value.toString().match(/^[\s]+$/))?true:false}function _is_password(value){return(value.toString().match(/^[a-zA-Z0-9_\-\.,@#\$%\^\&\*]*$/))?true:false}function _is_email(value){return(value.toString().match(/(^[a-zA-Z0-9\.\-_]+)@([a-zA-Z0-9\.\-])+\.([a-zA-Z]+)$/))?true:false}function _is_phone(value){return(value.toString().match(/(^[0-9\+\(\)\s]+)$/))?true:false}function _is_date(value){value=value.toString().replace(/[\/\.-]/g,"");var t=new Date();t.setFullYear(parseInt(value.substr(4,4),10),(parseInt(value.substr(2,2),10)-1),parseInt(value.substr(0,2),10));return(value.match(/^[0-9]{8}$/)&&t.getMonth()==(parseInt(value.substr(2,2),10)-1)&&t.getFullYear()==parseInt(value.substr(4,4),10))?true:false}function _is_time(value){value=value.toString().replace(/[:\.]/g,"");if(value.length<3){return false}while(value.length<4){value="0"+value}if(value.match(/^[0-9]{4}$/)){var h=parseInt(value.substr(0,2));var m=parseInt(value.substr(2,2));return h<24&&h>=0&&m<60&&m>=0}else{return false}}function _is_true(value){return(value)?true:false}if(_auto){jQuery(document).ready(_setupForm)}jQuery(_form).data("validations",this);_object=this;function _setupForm(){jQuery(_form).bind("submit",_validateForm)}function _unbindSubmit(){jQuery(_form).unbind("submit",_validateForm)}function _validate(parameters){var index=_validations.length;_validations[index]=parameters;if(_event=="change"){jQuery(document).ready(function(){jQuery("#"+parameters.id).bind(_event,function(e){_validateItem(index,e)})})}}function _compare(parameters){var index=_comparisons.length;_comparisons[index]=parameters;if(_event=="change"){jQuery(document).ready(function(){jQuery("#"+parameters.id).bind(_event,function(e){_compareItem(index,e)})})}}function _mexclude(parameters){var index=_mexclusions.length;_mexclusions[index]=parameters;if(_event=="change"){jQuery(document).ready(function(){jQuery("#"+parameters.id).bind(_event,function(e){_mexcludeItem(index,e)})})}}function _validateItem(index,e){var validation=_validations[index];var dom_id=validation.id;var v_type=validation.type;var e_message=validation.error_message;var required=(validation.required)?validation.required:false;var length=(validation.length)?validation.length:null;var depends=(validation.depends)?validation.depends:null;var trim=(validation.trim)?true:false;var e_function=(validation.error_function)?validation.error_function:null;if(typeof dom_id=="string"){var input=document.getElementById(dom_id);var value=(input)?_getValue(input):false;if(trim){value=value.replace(/^\s+|\s+$/g,"")}}else{if(typeof dom_id=="object"&&dom_id.constructor==Array){var input=document.getElementById(dom_id[0]);var value="";for(var z=0;z<dom_id.length;z++){if(!document.getElementById(dom_id[z])){input=false}}if(input){for(var z=0;z<dom_id.length;z++){value+=_getValue(document.getElementById(dom_id[z]))}}}}if(input){var is_valid=false;var has_value=false;var depended=false;has_value=_hasValue(input);var required_dependency=_isDependent(depends);var correct_length=_isLength(length,value);if(has_value&&required_dependency&&correct_length){if(v_type.substr(0,3)=="is_"){is_valid=_isValid(v_type,value)}else{if(eval(v_type)){is_valid=eval(v_type+"(value)")}else{is_valid=false}}}else{if(has_value&&required_dependency&&!correct_length){is_valid=false}else{if(!has_value&&required&&required_dependency){is_valid=false}else{if((!has_value&&!required)||!required_dependency){is_valid=true}}}}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!e_function){_processFn(is_valid,input,e_message)}else{e_function(is_valid,input,e_message)}return is_valid}return false}function _compareItem(index,e){var comparison=_comparisons[index];var dom_id1=comparison.id;var dom_id2=comparison.compare;var comparator=comparison.comparator;var depends=(comparison.depends)?comparison.depends:null;var trim=(comparison.trim)?true:false;var e_message=comparison.error_message;var e_function=(comparison.error_function)?comparison.error_function:null;var is_valid=false;var input1=document.getElementById(dom_id1);var input2=document.getElementById(dom_id2);if(input1&&input2){var value1=_getValue(input1);var value2=_getValue(input2);if(trim){value1=value1.replace(/^\s+|\s+$/g,"")}if(trim){value2=value2.replace(/^\s+|\s+$/g,"")}var required_dependency=_isDependent(depends);if(required_dependency){if(comparator=="="||comparator=="<"||comparator==">"){if(comparator=="="){comparator="=="}is_valid=eval("value1"+comparator+"value2")}}else{is_valid=true}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!e_function){_processFn(is_valid,[input1,input2],e_message)}else{e_function(is_valid,input1,e_message)}return is_valid}return false}function _mexcludeItem(index,e){var mexclusion=_mexclusions[index];var dom_ids=mexclusion.ids;var e_message=mexclusion.error_message;var required=(mexclusion.required)?mexclusion.required:false;var depends=(mexclusion.depends)?mexclusion.depends:null;var trim=(mexclusion.trim)?true:false;var e_function=(mexclusion.error_function)?mexclusion.error_function:null;var is_valid=false;var inputs_exist=true;for(z=0;z<dom_ids.length;z++){if(!document.getElementById(dom_ids[z])){inputs_exist=false}}var required_dependency=_isDependent(depends);if(inputs_exist){var values=0;for(var y=0;y<dom_ids.length;y++){if(_hasValue(document.getElementById(dom_ids[y]))){values++}}if(values<2){is_valid=true}else{if(values==0&&!required_dependency){is_valid=true}}if(values==0&&required&&required_dependency){is_valid=false}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!e_function){_processFn(is_valid,_idToDOMObject(dom_ids),e_message)}else{e_function(is_valid,_idToDOMObject(dom_ids[0]),e_message)}return is_valid}return false}function _validateForm(e){var valid=true;var focus_field=false;for(var x=0;x<_validations.length;x++){var dom_id=_validations[x].id;var v_type=_validations[x].type;var e_message=_validations[x].error_message;var required=(_validations[x].required)?_validations[x].required:false;var length=(_validations[x].length)?_validations[x].length:null;var depends=(_validations[x].depends)?_validations[x].depends:null;var trim=(_validations[x].trim)?true:false;var e_function=(_validations[x].error_function)?_validations[x].error_function:null;if(typeof dom_id=="string"){var input=document.getElementById(dom_id);var value=(input)?_getValue(input):false;if(trim){value=value.replace(/^\s+|\s+$/g,"")}}else{if(typeof dom_id=="object"&&dom_id.constructor==Array){var input=document.getElementById(dom_id[0]);var value="";for(var z=0;z<dom_id.length;z++){if(!document.getElementById(dom_id[z])){input=false}}if(input){for(var z=0;z<dom_id.length;z++){value+=_getValue(document.getElementById(dom_id[z]))}}}}if(input){var is_valid=false;var has_value=false;var depended=false;has_value=_hasValue(input);var required_dependency=_isDependent(depends);var correct_length=_isLength(length,value);if(has_value&&required_dependency&&correct_length){if(v_type.substr(0,3)=="is_"){is_valid=_isValid(v_type,value)}else{if(eval(v_type)){is_valid=eval(v_type+"(value)")}else{is_valid=false}}}else{if(has_value&&required_dependency&&!correct_length){is_valid=false}else{if(!has_value&&required&&required_dependency){is_valid=false}else{if((!has_value&&!required)||!required_dependency){is_valid=true}}}}if(!e_function){_processFn(is_valid,input,e_message)}else{e_function(is_valid,input,e_message)}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!focus_field&&!is_valid){if(input.visibility=="visible"||input.visibility=="show"){input.focus()}focus_field=true}var valid=(valid)?is_valid:false}}for(x=0;x<_comparisons.length;x++){var dom_id1=_comparisons[x].id;var dom_id2=_comparisons[x].compare;var comparator=_comparisons[x].comparator;var depends=(_comparisons[x].depends)?_comparisons[x].depends:null;var trim=(_comparisons[x].trim)?true:false;var e_message=_comparisons[x].error_message;var e_function=(_comparisons[x].error_function)?_comparisons[x].error_function:null;var is_valid=false;var input1=document.getElementById(dom_id1);var input2=document.getElementById(dom_id2);if(input1&&input2){var value1=_getValue(input1);var value2=_getValue(input2);if(trim){value1=value1.replace(/^\s+|\s+$/g,"")}if(trim){value2=value2.replace(/^\s+|\s+$/g,"")}var required_dependency=_isDependent(depends);if(required_dependency){if(comparator=="="||comparator=="<"||comparator==">"){if(comparator=="="){comparator="=="}is_valid=eval("value1"+comparator+"value2")}}else{is_valid=true}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!e_function){_processFn(is_valid,[input1,input2],e_message)}else{e_function(is_valid,input1,e_message)}var valid=(valid)?is_valid:false}}for(x=0;x<_mexclusions.length;x++){var dom_ids=_mexclusions[x].ids;var e_message=_mexclusions[x].error_message;var required=(_mexclusions[x].required)?_mexclusions[x].required:false;var depends=(_mexclusions[x].depends)?_mexclusions[x].depends:null;var trim=(_mexclusions[x].trim)?true:false;var e_function=(_mexclusions[x].error_function)?_mexclusions[x].error_function:null;var is_valid=false;var inputs_exist=true;for(z=0;z<dom_ids.length;z++){if(!document.getElementById(dom_ids[z])){inputs_exist=false}}var required_dependency=_isDependent(depends);if(inputs_exist){var values=0;for(var y=0;y<dom_ids.length;y++){if(_hasValue(document.getElementById(dom_ids[y]))){values++}}if(values<2){is_valid=true}else{if(values==0&&!required_dependency){is_valid=true}}if(values==0&&required&&required_dependency){is_valid=false}if(is_valid&&trim){input.value=input.value.replace(/^\s+|\s+$/g,"")}if(!e_function){_processFn(is_valid,_idToDOMObject(dom_ids),e_message)}else{e_function(is_valid,_idToDOMObject(dom_ids[0]),e_message)}var valid=(valid)?is_valid:false}}if(!valid){if(arguments.length){e.preventDefault()}return false}else{return true}}function _isValid(type,value){var fn=eval("_"+type);return fn(value)}function _hasValue(dom_input){var value;if((dom_input.nodeName=="INPUT"&&(dom_input.type=="text"||dom_input.type=="password"||dom_input.type=="hidden"))||dom_input.nodeName=="SELECT"||dom_input.nodeName=="TEXTAREA"){value=!jQuery(dom_input).data("default")?dom_input.value:(dom_input.value==jQuery(dom_input).data("default")?"":dom_input.value)}else{if(dom_input.nodeName=="INPUT"&&(dom_input.type=="radio"||dom_input.type=="checkbox")){value=dom_input.checked}else{value=jQuery(dom_input).val()}}return(value)?true:false}function _isDependent(dependencies){if(dependencies){var satisfies_dependency=true;if(dependencies.constructor!=Array){dependencies=new Array(dependencies)}for(var z=0;z<dependencies.length;z++){if(document.getElementById(dependencies[z].id)){var dom_depend=document.getElementById(dependencies[z].id);var depend_value=_getValue(dom_depend);if(typeof dependencies[z].value=="string"&&depend_value!=dependencies[z].value){satisfies_dependency=false}else{if(typeof dependencies[z].value=="boolean"&&dependencies[z].value!=_hasValue(dom_depend)){satisfies_dependency=false}}}}return satisfies_dependency}else{return true}}function _isLength(length,value){if(length){if(typeof length=="object"&&length.constructor==Array){var min=length[0];var max=length[1];if(value.toString().length>=min&&value.toString().length<=max){return true}else{return false}}else{if(typeof length=="number"){var min=length;if(value.toString().length>=min){return true}else{return false}}else{return false}}}else{return true}}function _getValue(dom_input){var value;if((dom_input.nodeName=="INPUT"&&(dom_input.type=="text"||dom_input.type=="password"||dom_input.type=="hidden"))||dom_input.nodeName=="SELECT"||dom_input.nodeName=="TEXTAREA"){value=dom_input.value}else{if(dom_input.nodeName=="INPUT"&&(dom_input.type=="radio"||dom_input.type=="checkbox")){value=dom_input.checked}else{value=jQuery(dom_input).val()}}return value}function _setProcessFn(fn){_processFn=fn}function _setValidationFn(fn){_validationFn=fn}function _idToDOMObject(dom_id){if(typeof dom_id=="string"){return document.getElementById(dom_id)}else{var dom_ids=new Array();for(var z=0;z<dom_id.length;z++){dom_ids[dom_ids.length]=document.getElementById(dom_id[z])}return dom_ids}}};